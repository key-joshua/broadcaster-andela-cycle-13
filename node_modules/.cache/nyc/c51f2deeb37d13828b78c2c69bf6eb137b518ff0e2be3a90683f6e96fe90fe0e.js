"use strict";var cov_2rd0f0haay=function(){var path="C:\\Users\\Positivo_Computer\\Desktop\\free_mentors\\server\\api\\controllers\\sessionsController.js";var hash="ef378a4b761edf675736b757dc38ae860853e01c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Positivo_Computer\\Desktop\\free_mentors\\server\\api\\controllers\\sessionsController.js",statementMap:{"0":{start:{line:3,column:29},end:{line:3,column:84}},"1":{start:{line:5,column:0},end:{line:7,column:3}},"2":{start:{line:8,column:0},end:{line:8,column:28}},"3":{start:{line:10,column:18},end:{line:10,column:73}},"4":{start:{line:12,column:24},end:{line:143,column:1}},"5":{start:{line:15,column:21},end:{line:22,column:5}},"6":{start:{line:23,column:25},end:{line:23,column:34}},"7":{start:{line:25,column:4},end:{line:50,column:5}},"8":{start:{line:26,column:6},end:{line:29,column:9}},"9":{start:{line:30,column:11},end:{line:50,column:5}},"10":{start:{line:31,column:6},end:{line:34,column:9}},"11":{start:{line:35,column:11},end:{line:50,column:5}},"12":{start:{line:36,column:6},end:{line:39,column:9}},"13":{start:{line:40,column:11},end:{line:50,column:5}},"14":{start:{line:41,column:6},end:{line:44,column:9}},"15":{start:{line:45,column:11},end:{line:50,column:5}},"16":{start:{line:46,column:6},end:{line:49,column:9}},"17":{start:{line:52,column:4},end:{line:52,column:44}},"18":{start:{line:54,column:4},end:{line:58,column:7}},"19":{start:{line:62,column:4},end:{line:66,column:7}},"20":{start:{line:70,column:23},end:{line:72,column:6}},"21":{start:{line:71,column:6},end:{line:71,column:76}},"22":{start:{line:74,column:20},end:{line:74,column:44}},"23":{start:{line:76,column:4},end:{line:81,column:5}},"24":{start:{line:77,column:6},end:{line:80,column:9}},"25":{start:{line:83,column:26},end:{line:90,column:5}},"26":{start:{line:91,column:25},end:{line:91,column:35}},"27":{start:{line:96,column:17},end:{line:96,column:61}},"28":{start:{line:98,column:4},end:{line:98,column:62}},"29":{start:{line:100,column:4},end:{line:104,column:7}},"30":{start:{line:108,column:23},end:{line:110,column:6}},"31":{start:{line:109,column:6},end:{line:109,column:76}},"32":{start:{line:112,column:20},end:{line:112,column:44}},"33":{start:{line:114,column:4},end:{line:119,column:5}},"34":{start:{line:115,column:6},end:{line:118,column:9}},"35":{start:{line:121,column:26},end:{line:128,column:5}},"36":{start:{line:129,column:25},end:{line:129,column:35}},"37":{start:{line:133,column:17},end:{line:133,column:61}},"38":{start:{line:135,column:4},end:{line:135,column:62}},"39":{start:{line:137,column:4},end:{line:141,column:7}},"40":{start:{line:144,column:15},end:{line:144,column:32}},"41":{start:{line:145,column:0},end:{line:145,column:30}}},fnMap:{"0":{name:"create_session",decl:{start:{line:14,column:27},end:{line:14,column:41}},loc:{start:{line:14,column:61},end:{line:59,column:3}},line:14},"1":{name:"view_sessions",decl:{start:{line:61,column:26},end:{line:61,column:39}},loc:{start:{line:61,column:59},end:{line:67,column:3}},line:61},"2":{name:"accept_session",decl:{start:{line:69,column:27},end:{line:69,column:41}},loc:{start:{line:69,column:61},end:{line:105,column:3}},line:69},"3":{name:"(anonymous_3)",decl:{start:{line:70,column:51},end:{line:70,column:52}},loc:{start:{line:70,column:72},end:{line:72,column:5}},line:70},"4":{name:"reject_session",decl:{start:{line:107,column:27},end:{line:107,column:41}},loc:{start:{line:107,column:61},end:{line:142,column:3}},line:107},"5":{name:"(anonymous_5)",decl:{start:{line:108,column:51},end:{line:108,column:52}},loc:{start:{line:108,column:72},end:{line:110,column:5}},line:108}},branchMap:{"0":{loc:{start:{line:25,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:25,column:4},end:{line:50,column:5}},{start:{line:25,column:4},end:{line:50,column:5}}],line:25},"1":{loc:{start:{line:30,column:11},end:{line:50,column:5}},type:"if",locations:[{start:{line:30,column:11},end:{line:50,column:5}},{start:{line:30,column:11},end:{line:50,column:5}}],line:30},"2":{loc:{start:{line:35,column:11},end:{line:50,column:5}},type:"if",locations:[{start:{line:35,column:11},end:{line:50,column:5}},{start:{line:35,column:11},end:{line:50,column:5}}],line:35},"3":{loc:{start:{line:40,column:11},end:{line:50,column:5}},type:"if",locations:[{start:{line:40,column:11},end:{line:50,column:5}},{start:{line:40,column:11},end:{line:50,column:5}}],line:40},"4":{loc:{start:{line:45,column:11},end:{line:50,column:5}},type:"if",locations:[{start:{line:45,column:11},end:{line:50,column:5}},{start:{line:45,column:11},end:{line:50,column:5}}],line:45},"5":{loc:{start:{line:76,column:4},end:{line:81,column:5}},type:"if",locations:[{start:{line:76,column:4},end:{line:81,column:5}},{start:{line:76,column:4},end:{line:81,column:5}}],line:76},"6":{loc:{start:{line:114,column:4},end:{line:119,column:5}},type:"if",locations:[{start:{line:114,column:4},end:{line:119,column:5}},{start:{line:114,column:4},end:{line:119,column:5}}],line:114}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"ef378a4b761edf675736b757dc38ae860853e01c"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_2rd0f0haay.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));cov_2rd0f0haay.s[1]++;Object.defineProperty(exports,"__esModule",{value:true});cov_2rd0f0haay.s[2]++;exports["default"]=void 0;var _sessionsDB=(cov_2rd0f0haay.s[3]++,_interopRequireDefault(require("../models/sessionsDB")));var sessionController=(cov_2rd0f0haay.s[4]++,{//#############################################################################        Working Properly
create_session:function create_session(request,response){cov_2rd0f0haay.f[0]++;var newsession=(cov_2rd0f0haay.s[5]++,{sessionId:_sessionsDB["default"].length+1,mentorId:request.body.mentorId,menteeId:request.body.menteeId,menteeEmail:request.body.email,questions:request.body.questions,status:'pending'});var allowed_status=(cov_2rd0f0haay.s[6]++,"pending");cov_2rd0f0haay.s[7]++;if(newsession.status!==allowed_status){cov_2rd0f0haay.b[0][0]++;cov_2rd0f0haay.s[8]++;return response.status(400).send({status:400,message:"Hey !! allowed initial status is pending"});}else{cov_2rd0f0haay.b[0][1]++;cov_2rd0f0haay.s[9]++;if(!request.body.mentorId){cov_2rd0f0haay.b[1][0]++;cov_2rd0f0haay.s[10]++;return response.status(400).send({status:400,message:"Hey !! Insert Mentor's Id"});}else{cov_2rd0f0haay.b[1][1]++;cov_2rd0f0haay.s[11]++;if(!request.body.menteeId){cov_2rd0f0haay.b[2][0]++;cov_2rd0f0haay.s[12]++;return response.status(400).send({status:400,message:"Hey !! Insert Your Id"});}else{cov_2rd0f0haay.b[2][1]++;cov_2rd0f0haay.s[13]++;if(!request.body.questions){cov_2rd0f0haay.b[3][0]++;cov_2rd0f0haay.s[14]++;return response.status(400).send({status:400,message:"Hey !! Insert decsription of your mentorship session"});}else{cov_2rd0f0haay.b[3][1]++;cov_2rd0f0haay.s[15]++;if(request.body.email){cov_2rd0f0haay.b[4][0]++;cov_2rd0f0haay.s[16]++;return response.status(400).send({status:400,message:"Hey !! Insert Your Email"});}else{cov_2rd0f0haay.b[4][1]++;}}}}}cov_2rd0f0haay.s[17]++;_sessionsDB["default"].push(newsession);cov_2rd0f0haay.s[18]++;response.status(201).send({status:201,message:"Hey !! you are successfully created Mentorship Session with id ".concat(_sessionsDB["default"].length+1," "),data:newsession});},//#############################################################################       Working Properly
view_sessions:function view_sessions(request,response){cov_2rd0f0haay.f[1]++;cov_2rd0f0haay.s[19]++;return response.status(200).send({status:200,message:"Hey !! Hope you are Viewing all sessions",data:_sessionsDB["default"]});},//#############################################################################       Bags Here
accept_session:function accept_session(request,response){cov_2rd0f0haay.f[2]++;var checksession=(cov_2rd0f0haay.s[20]++,_sessionsDB["default"].find(function(sessionId){cov_2rd0f0haay.f[3]++;cov_2rd0f0haay.s[21]++;return sessionId.sessionId===parseInt(request.params.sessionId,10);}));var sessionid=(cov_2rd0f0haay.s[22]++,request.params.sessionId);cov_2rd0f0haay.s[23]++;if(!checksession){cov_2rd0f0haay.b[5][0]++;cov_2rd0f0haay.s[24]++;return response.status(404).send({status:404,message:"".concat('Hey !! This session with id'+' ').concat(sessionid," ")+'does not exist'});}else{cov_2rd0f0haay.b[5][1]++;}var confirm_session=(cov_2rd0f0haay.s[25]++,{sessionId:checksession.sessionId,mentorId:request.body.mentorId,menteeId:request.body.menteeId,questions:request.body.questions,menteeEmail:request.body.email,status:'Accepted'});var allowed_status=(cov_2rd0f0haay.s[26]++,'Accepted');//   if (request.body.status !== allowed_status) {
//     return response.status(400).send({ status: 400, message: `Hey !! the status must be in Accepted Mode` });
//   }
// users.push(update_body);
var viewed=(cov_2rd0f0haay.s[27]++,_sessionsDB["default"].indexOf(checksession));cov_2rd0f0haay.s[28]++;_sessionsDB["default"].splice(viewed,1,confirm_session);cov_2rd0f0haay.s[29]++;return response.status(204).send({status:204,message:"Hey !! You are accepted this session with id ".concat(checksession.id," "),data:confirm_session});},//#############################################################################       Bags Here
reject_session:function reject_session(request,response){cov_2rd0f0haay.f[4]++;var checksession=(cov_2rd0f0haay.s[30]++,_sessionsDB["default"].find(function(sessionId){cov_2rd0f0haay.f[5]++;cov_2rd0f0haay.s[31]++;return sessionId.sessionId===parseInt(request.params.sessionId,10);}));var sessionid=(cov_2rd0f0haay.s[32]++,request.params.sessionId);cov_2rd0f0haay.s[33]++;if(!checksession){cov_2rd0f0haay.b[6][0]++;cov_2rd0f0haay.s[34]++;return response.status(404).send({status:404,message:"".concat('Hey !! This session with id'+' ').concat(sessionid," ")+'does not exist'});}else{cov_2rd0f0haay.b[6][1]++;}var confirm_session=(cov_2rd0f0haay.s[35]++,{sessionId:checksession.sessionId,mentorId:request.body.mentorId,menteeId:request.body.menteeId,questions:request.body.questions,menteeEmail:request.body.email,status:'Rejected'});var allowed_status=(cov_2rd0f0haay.s[36]++,'Rejected');//   if (request.body.status !== allowed_status) {
//     return response.status(400).send({ status: 400, message: `Hey !! the status must be in Accepted Mode` });
//   }
var viewed=(cov_2rd0f0haay.s[37]++,_sessionsDB["default"].indexOf(checksession));cov_2rd0f0haay.s[38]++;_sessionsDB["default"].splice(viewed,1,confirm_session);cov_2rd0f0haay.s[39]++;return response.status(204).send({status:204,message:"Hey !! You are accepted this session with id ".concat(checksession.id," "),data:confirm_session});}});var _default=(cov_2rd0f0haay.s[40]++,sessionController);cov_2rd0f0haay.s[41]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb25zQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJzZXNzaW9uQ29udHJvbGxlciIsImNyZWF0ZV9zZXNzaW9uIiwicmVxdWVzdCIsInJlc3BvbnNlIiwibmV3c2Vzc2lvbiIsInNlc3Npb25JZCIsInNlc3Npb25EQiIsImxlbmd0aCIsIm1lbnRvcklkIiwiYm9keSIsIm1lbnRlZUlkIiwibWVudGVlRW1haWwiLCJlbWFpbCIsInF1ZXN0aW9ucyIsInN0YXR1cyIsImFsbG93ZWRfc3RhdHVzIiwic2VuZCIsIm1lc3NhZ2UiLCJwdXNoIiwiZGF0YSIsInZpZXdfc2Vzc2lvbnMiLCJhY2NlcHRfc2Vzc2lvbiIsImNoZWNrc2Vzc2lvbiIsImZpbmQiLCJwYXJzZUludCIsInBhcmFtcyIsInNlc3Npb25pZCIsImNvbmZpcm1fc2Vzc2lvbiIsInZpZXdlZCIsImluZGV4T2YiLCJzcGxpY2UiLCJpZCIsInJlamVjdF9zZXNzaW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFLQSxJQUFNQSxpQkFBaUIsR0FBRztBQUN4QjtBQUVBQyxFQUFBQSxjQUFjLEVBQUcsd0JBQUNDLE9BQUQsRUFBVUMsUUFBVixFQUFzQjtBQUVyQyxRQUFNQyxVQUFVLEdBQUc7QUFDZkMsTUFBQUEsU0FBUyxFQUFFQyx1QkFBVUMsTUFBVixHQUFtQixDQURmO0FBRWZDLE1BQUFBLFFBQVEsRUFBRU4sT0FBTyxDQUFDTyxJQUFSLENBQWFELFFBRlI7QUFHZkUsTUFBQUEsUUFBUSxFQUFFUixPQUFPLENBQUNPLElBQVIsQ0FBYUMsUUFIUjtBQUlmQyxNQUFBQSxXQUFXLEVBQUVULE9BQU8sQ0FBQ08sSUFBUixDQUFhRyxLQUpYO0FBS2ZDLE1BQUFBLFNBQVMsRUFBRVgsT0FBTyxDQUFDTyxJQUFSLENBQWFJLFNBTFQ7QUFNZkMsTUFBQUEsTUFBTSxFQUFFO0FBTk8sS0FBbkI7QUFjRSxRQUFNQyxjQUFjLEdBQUcsU0FBdkI7O0FBS0QsUUFBSVgsVUFBVSxDQUFDVSxNQUFY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dXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBvc2l0aXZvX0NvbXB1dGVyXFxEZXNrdG9wXFxmcmVlX21lbnRvcnNcXHNlcnZlclxcYXBpXFxjb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBzZXNzaW9uREIgZnJvbSAnLi4vbW9kZWxzL3Nlc3Npb25zREInO1xyXG5cclxuXHJcblxyXG5cclxuY29uc3Qgc2Vzc2lvbkNvbnRyb2xsZXIgPSB7XHJcbiAgLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAgICAgICAgV29ya2luZyBQcm9wZXJseVxyXG5cclxuICBjcmVhdGVfc2Vzc2lvbiA6IChyZXF1ZXN0LCByZXNwb25zZSk9PiB7XHJcbiAgICBcclxuICAgIGNvbnN0IG5ld3Nlc3Npb24gPSB7XHJcbiAgICAgICAgc2Vzc2lvbklkOiBzZXNzaW9uREIubGVuZ3RoICsgMSxcclxuICAgICAgICBtZW50b3JJZDogcmVxdWVzdC5ib2R5Lm1lbnRvcklkLFxyXG4gICAgICAgIG1lbnRlZUlkOiByZXF1ZXN0LmJvZHkubWVudGVlSWQsXHJcbiAgICAgICAgbWVudGVlRW1haWw6IHJlcXVlc3QuYm9keS5lbWFpbCxcclxuICAgICAgICBxdWVzdGlvbnM6IHJlcXVlc3QuYm9keS5xdWVzdGlvbnMsXHJcbiAgICAgICAgc3RhdHVzOiAncGVuZGluZydcclxuXHJcbiAgICAgIH07XHJcblxyXG5cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICBjb25zdCBhbGxvd2VkX3N0YXR1cyA9IFwicGVuZGluZ1wiO1xyXG5cclxuICAgICBcclxuICBcclxuXHJcbiAgICAgaWYgKG5ld3Nlc3Npb24uc3RhdHVzIT09YWxsb3dlZF9zdGF0dXMpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuc2VuZCh7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBgSGV5ICEhIGFsbG93ZWQgaW5pdGlhbCBzdGF0dXMgaXMgcGVuZGluZ2AgfSk7XHJcbiAgICAgIH1lbHNlIGlmICghcmVxdWVzdC5ib2R5Lm1lbnRvcklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogYEhleSAhISBJbnNlcnQgTWVudG9yJ3MgSWRgIH0pO1xyXG4gICAgICB9ZWxzZSBpZiAoIXJlcXVlc3QuYm9keS5tZW50ZWVJZCkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IGBIZXkgISEgSW5zZXJ0IFlvdXIgSWRgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKCFyZXF1ZXN0LmJvZHkucXVlc3Rpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDApLnNlbmQoeyBzdGF0dXM6IDQwMCwgbWVzc2FnZTogYEhleSAhISBJbnNlcnQgZGVjc3JpcHRpb24gb2YgeW91ciBtZW50b3JzaGlwIHNlc3Npb25gIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHJlcXVlc3QuYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IGBIZXkgISEgSW5zZXJ0IFlvdXIgRW1haWxgIH0pO1xyXG4gICAgICB9IFxyXG4gICAgXHJcbiAgICAgIHNlc3Npb25EQi5wdXNoKG5ld3Nlc3Npb24pO1xyXG4gICAgICAgIHJlc3BvbnNlLnN0YXR1cygyMDEpLnNlbmQoeyBzdGF0dXM6IDIwMSwgbWVzc2FnZTogYEhleSAhISB5b3UgYXJlIHN1Y2Nlc3NmdWxseSBjcmVhdGVkIE1lbnRvcnNoaXAgU2Vzc2lvbiB3aXRoIGlkICR7c2Vzc2lvbkRCLmxlbmd0aCArIDF9IGAsIGRhdGE6IG5ld3Nlc3Npb24gfSk7IFxyXG5cclxuICAgICAgICBcclxuICAgIFxyXG4gICAgfSxcclxuXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgICAgICAgV29ya2luZyBQcm9wZXJseVxyXG5cclxudmlld19zZXNzaW9ucyA6KHJlcXVlc3QscmVzcG9uc2UpPT57XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cygyMDApLnNlbmQoe3N0YXR1czogMjAwLCBtZXNzYWdlOlwiSGV5ICEhIEhvcGUgeW91IGFyZSBWaWV3aW5nIGFsbCBzZXNzaW9uc1wiLCBkYXRhOnNlc3Npb25EQn0pO1xyXG5cclxufSxcclxuXHJcbi8vIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMgICAgICAgQmFncyBIZXJlXHJcblxyXG5hY2NlcHRfc2Vzc2lvbiA6KHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICBjb25zdCBjaGVja3Nlc3Npb24gPSBzZXNzaW9uREIuZmluZCgoc2Vzc2lvbklkKSA9PiBzZXNzaW9uSWQuc2Vzc2lvbklkID09PSBwYXJzZUludChyZXF1ZXN0LnBhcmFtcy5zZXNzaW9uSWQsIDEwKSk7XHJcbiAgICBjb25zdCBzZXNzaW9uaWQgPSByZXF1ZXN0LnBhcmFtcy5zZXNzaW9uSWQ7XHJcblxyXG4gICAgaWYgKCFjaGVja3Nlc3Npb24pIHtcclxuICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLnNlbmQoeyBzdGF0dXM6IDQwNCwgbWVzc2FnZTogYCR7J0hleSAhISBUaGlzIHNlc3Npb24gd2l0aCBpZCcgKyAnICd9JHtzZXNzaW9uaWR9IGAgKyAnZG9lcyBub3QgZXhpc3QnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNvbmZpcm1fc2Vzc2lvbiA9IHtcclxuICAgICAgICBzZXNzaW9uSWQ6IGNoZWNrc2Vzc2lvbi5zZXNzaW9uSWQsXHJcbiAgICAgICAgbWVudG9ySWQ6IHJlcXVlc3QuYm9keS5tZW50b3JJZCxcclxuICAgICAgICBtZW50ZWVJZDogcmVxdWVzdC5ib2R5Lm1lbnRlZUlkLFxyXG4gICAgICAgIHF1ZXN0aW9uczogcmVxdWVzdC5ib2R5LnF1ZXN0aW9ucyxcclxuICAgICAgICBtZW50ZWVFbWFpbDogcmVxdWVzdC5ib2R5LmVtYWlsLFxyXG4gICAgICAgIHN0YXR1czogJ0FjY2VwdGVkJ1xyXG4gICAgICB9O1xyXG5cclxuICAgICBjb25zdCBhbGxvd2VkX3N0YXR1cyA9ICdBY2NlcHRlZCdcclxuXHJcbiAgICAvLyAgIGlmIChyZXF1ZXN0LmJvZHkuc3RhdHVzICE9PSBhbGxvd2VkX3N0YXR1cykge1xyXG4gICAgLy8gICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDAwKS5zZW5kKHsgc3RhdHVzOiA0MDAsIG1lc3NhZ2U6IGBIZXkgISEgdGhlIHN0YXR1cyBtdXN0IGJlIGluIEFjY2VwdGVkIE1vZGVgIH0pO1xyXG4gICAgLy8gICB9XHJcbiAgIFxyXG5cclxuXHJcbiAgICAvLyB1c2Vycy5wdXNoKHVwZGF0ZV9ib2R5KTtcclxuICAgIGNvbnN0IHZpZXdlZCA9IHNlc3Npb25EQi5pbmRleE9mKGNoZWNrc2Vzc2lvbik7XHJcbiAgICBzZXNzaW9uREIuc3BsaWNlKHZpZXdlZCwgMSwgY29uZmlybV9zZXNzaW9uKTtcclxuICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjA0KS5zZW5kKHsgc3RhdHVzOiAyMDQsIG1lc3NhZ2U6IGBIZXkgISEgWW91IGFyZSBhY2NlcHRlZCB0aGlzIHNlc3Npb24gd2l0aCBpZCAke2NoZWNrc2Vzc2lvbi5pZH0gYCwgZGF0YTogY29uZmlybV9zZXNzaW9uIH0pO1xyXG4gIH0sXHJcblxyXG4gLy8jIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyAgICAgICBCYWdzIEhlcmVcclxuIFxyXG4gcmVqZWN0X3Nlc3Npb24gOihyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xyXG4gICAgY29uc3QgY2hlY2tzZXNzaW9uID0gc2Vzc2lvbkRCLmZpbmQoKHNlc3Npb25JZCkgPT4gc2Vzc2lvbklkLnNlc3Npb25JZCA9PT0gcGFyc2VJbnQocmVxdWVzdC5wYXJhbXMuc2Vzc2lvbklkLCAxMCkpO1xyXG4gICAgY29uc3Qgc2Vzc2lvbmlkID0gcmVxdWVzdC5wYXJhbXMuc2Vzc2lvbklkO1xyXG5cclxuICAgIGlmICghY2hlY2tzZXNzaW9uKSB7XHJcbiAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNDA0KS5zZW5kKHsgc3RhdHVzOiA0MDQsIG1lc3NhZ2U6IGAkeydIZXkgISEgVGhpcyBzZXNzaW9uIHdpdGggaWQnICsgJyAnfSR7c2Vzc2lvbmlkfSBgICsgJ2RvZXMgbm90IGV4aXN0JyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBjb25maXJtX3Nlc3Npb24gPSB7XHJcbiAgICAgICAgc2Vzc2lvbklkOiBjaGVja3Nlc3Npb24uc2Vzc2lvbklkLFxyXG4gICAgICAgIG1lbnRvcklkOiByZXF1ZXN0LmJvZHkubWVudG9ySWQsXHJcbiAgICAgICAgbWVudGVlSWQ6IHJlcXVlc3QuYm9keS5tZW50ZWVJZCxcclxuICAgICAgICBxdWVzdGlvbnM6IHJlcXVlc3QuYm9keS5xdWVzdGlvbnMsXHJcbiAgICAgICAgbWVudGVlRW1haWw6IHJlcXVlc3QuYm9keS5lbWFpbCxcclxuICAgICAgICBzdGF0dXM6ICdSZWplY3RlZCdcclxuICAgICAgfTtcclxuXHJcbiAgICAgY29uc3QgYWxsb3dlZF9zdGF0dXMgPSAnUmVqZWN0ZWQnXHJcblxyXG4gICAgLy8gICBpZiAocmVxdWVzdC5ib2R5LnN0YXR1cyAhPT0gYWxsb3dlZF9zdGF0dXMpIHtcclxuICAgIC8vICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwMCkuc2VuZCh7IHN0YXR1czogNDAwLCBtZXNzYWdlOiBgSGV5ICEhIHRoZSBzdGF0dXMgbXVzdCBiZSBpbiBBY2NlcHRlZCBNb2RlYCB9KTtcclxuICAgIC8vICAgfVxyXG5cclxuICAgIGNvbnN0IHZpZXdlZCA9IHNlc3Npb25EQi5pbmRleE9mKGNoZWNrc2Vzc2lvbik7XHJcbiAgICBzZXNzaW9uREIuc3BsaWNlKHZpZXdlZCwgMSwgY29uZmlybV9zZXNzaW9uKTtcclxuICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoMjA0KS5zZW5kKHsgc3RhdHVzOiAyMDQsIG1lc3NhZ2U6IGBIZXkgISEgWW91IGFyZSBhY2NlcHRlZCB0aGlzIHNlc3Npb24gd2l0aCBpZCAke2NoZWNrc2Vzc2lvbi5pZH0gYCwgZGF0YTogY29uZmlybV9zZXNzaW9uIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNlc3Npb25Db250cm9sbGVyOyJdfQ==