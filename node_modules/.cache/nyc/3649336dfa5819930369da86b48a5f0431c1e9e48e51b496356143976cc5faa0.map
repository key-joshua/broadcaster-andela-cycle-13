{"version":3,"sources":["check_admin_and_mentee.js"],"names":["dotenv","config","verfy_admin_and_mentee","request","response","next","receive_token_from_header","headers","authorization","decoded_token_in_the_way_to_obtain_user_details","jwt","verify","process","env","SECRET_KEY","choose_category_as_detail_to_store","status","json","message","choose_firstName_as_detail_to_store","error"],"mappings":";;;;;;;;;AAAA;;AACA;;AACAA,mBAAOC,MAAP;;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,OAAD,EAAUC,QAAV,EAAoBC,IAApB,EAA4B;AAEvD,MACA;AACE,QAAMC,yBAAyB,GAAGH,OAAO,CAACI,OAAR,CAAgBC,aAAlD;;AACA,QAAMC,+CAA+C,GAAGC,yBAAIC,MAAJ,CAAWL,yBAAX,EAAsCM,OAAO,CAACC,GAAR,CAAYC,UAAlD,CAAxD;;AAEA,QAAIL,+CAA+C,CAACM,kCAAhD,KAAuF,OAAvF,IAAkGN,+CAA+C,CAACM,kCAAhD,KAAuF,QAA7L,EACA;AACEV,MAAAA,IAAI;AACL,KAHD,MAKF;AACCD,MAAAA,QAAQ,CAACY,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAACD,QAAAA,MAAM,EAAG,GAAV;AAAeE,QAAAA,OAAO,gBAAUT,+CAA+C,CAACU,mCAA1D;AAAtB,OAA1B;AACA;AACA,GAbD,CAcA,OAAOC,KAAP,EAAc;AACVhB,IAAAA,QAAQ,CAACY,MAAT,CAAgB,GAAhB,EAAqBC,IAArB,CAA0B;AAC1BD,MAAAA,MAAM,EAAG,GADiB;AAE1BE,MAAAA,OAAO;AAFmB,KAA1B;AAIH;AACA,CAtBL;;eAwBoBhB,sB","sourceRoot":"C:\\Users\\Positivo_Computer\\Desktop\\free_mentors\\server\\api\\middlewares","sourcesContent":["import jwt from 'jsonwebtoken';\r\nimport dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\nconst verfy_admin_and_mentee = (request, response, next)=> {\r\n  \r\n    try\r\n    {\r\n      const receive_token_from_header = request.headers.authorization;\r\n      const decoded_token_in_the_way_to_obtain_user_details = jwt.verify(receive_token_from_header, process.env.SECRET_KEY);\r\n      \r\n      if (decoded_token_in_the_way_to_obtain_user_details.choose_category_as_detail_to_store === \"admin\" || decoded_token_in_the_way_to_obtain_user_details.choose_category_as_detail_to_store === \"mentee\") \r\n      {\r\n        next();\r\n      }\r\n      else\r\n    {\r\n     response.status(401).json({status : 401, message : ` Hy ${decoded_token_in_the_way_to_obtain_user_details.choose_firstName_as_detail_to_store} !! This action is available for Admin Admin and Mentor`});\r\n    }\r\n    }\r\n    catch (error) {\r\n        response.status(401).json({\r\n        status : 401,\r\n        message :  ` Hy !! Access denied, Check your credentials`\r\n      })\r\n    }\r\n    }\r\n   \r\n    export default  verfy_admin_and_mentee;"]}