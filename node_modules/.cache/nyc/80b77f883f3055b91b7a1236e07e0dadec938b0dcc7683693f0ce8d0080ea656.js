"use strict";var cov_xh6x45fq9=function(){var path="C:\\Users\\Positivo_Computer\\Desktop\\broadcast-andela-cycle13\\server\\v1\\api\\models\\DB.js";var hash="fc3d6b9b9b488fc022af7b22ed933f951c3b359c";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"C:\\Users\\Positivo_Computer\\Desktop\\broadcast-andela-cycle13\\server\\v1\\api\\models\\DB.js",statementMap:{"0":{start:{line:3,column:29},end:{line:3,column:84}},"1":{start:{line:5,column:0},end:{line:7,column:3}},"2":{start:{line:8,column:0},end:{line:8,column:28}},"3":{start:{line:10,column:23},end:{line:10,column:95}},"4":{start:{line:12,column:20},end:{line:12,column:89}},"5":{start:{line:16,column:0},end:{line:125,column:3}},"6":{start:{line:18,column:4},end:{line:18,column:54}},"7":{start:{line:19,column:4},end:{line:41,column:7}},"8":{start:{line:42,column:4},end:{line:68,column:7}},"9":{start:{line:71,column:2},end:{line:123,column:6}},"10":{start:{line:74,column:27},end:{line:74,column:64}},"11":{start:{line:75,column:27},end:{line:77,column:8}},"12":{start:{line:76,column:8},end:{line:76,column:45}},"13":{start:{line:78,column:6},end:{line:78,column:28}},"14":{start:{line:83,column:6},end:{line:83,column:25}},"15":{start:{line:88,column:6},end:{line:88,column:25}},"16":{start:{line:93,column:6},end:{line:95,column:9}},"17":{start:{line:94,column:8},end:{line:94,column:44}},"18":{start:{line:100,column:23},end:{line:100,column:52}},"19":{start:{line:101,column:18},end:{line:101,column:49}},"20":{start:{line:102,column:6},end:{line:102,column:35}},"21":{start:{line:103,column:6},end:{line:103,column:16}},"22":{start:{line:108,column:20},end:{line:119,column:7}},"23":{start:{line:120,column:6},end:{line:120,column:32}},"24":{start:{line:121,column:6},end:{line:121,column:21}},"25":{start:{line:124,column:2},end:{line:124,column:19}},"26":{start:{line:127,column:19},end:{line:127,column:34}},"27":{start:{line:128,column:15},end:{line:128,column:27}},"28":{start:{line:129,column:0},end:{line:129,column:30}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:0},end:{line:16,column:1}},loc:{start:{line:16,column:12},end:{line:125,column:1}},line:16},"1":{name:"StoreData",decl:{start:{line:17,column:11},end:{line:17,column:20}},loc:{start:{line:17,column:23},end:{line:69,column:3}},line:17},"2":{name:"check_if_email_exist",decl:{start:{line:73,column:20},end:{line:73,column:40}},loc:{start:{line:73,column:48},end:{line:79,column:5}},line:73},"3":{name:"(anonymous_3)",decl:{start:{line:75,column:44},end:{line:75,column:45}},loc:{start:{line:75,column:60},end:{line:77,column:7}},line:75},"4":{name:"fetchAllUser",decl:{start:{line:82,column:20},end:{line:82,column:32}},loc:{start:{line:82,column:35},end:{line:84,column:5}},line:82},"5":{name:"fetchAllRecords",decl:{start:{line:87,column:20},end:{line:87,column:35}},loc:{start:{line:87,column:38},end:{line:89,column:5}},line:87},"6":{name:"fetchOneRecord",decl:{start:{line:92,column:20},end:{line:92,column:34}},loc:{start:{line:92,column:45},end:{line:96,column:5}},line:92},"7":{name:"(anonymous_7)",decl:{start:{line:93,column:30},end:{line:93,column:31}},loc:{start:{line:93,column:48},end:{line:95,column:7}},line:93},"8":{name:"_delete",decl:{start:{line:99,column:20},end:{line:99,column:27}},loc:{start:{line:99,column:38},end:{line:104,column:5}},line:99},"9":{name:"create",decl:{start:{line:107,column:20},end:{line:107,column:26}},loc:{start:{line:107,column:33},end:{line:122,column:5}},line:107}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},b:{},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"fc3d6b9b9b488fc022af7b22ed933f951c3b359c"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();var _interopRequireDefault=(cov_xh6x45fq9.s[0]++,require("@babel/runtime/helpers/interopRequireDefault"));cov_xh6x45fq9.s[1]++;Object.defineProperty(exports,"__esModule",{value:true});cov_xh6x45fq9.s[2]++;exports["default"]=void 0;var _classCallCheck2=(cov_xh6x45fq9.s[3]++,_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")));var _createClass2=(cov_xh6x45fq9.s[4]++,_interopRequireDefault(require("@babel/runtime/helpers/createClass")));var StoreData=(/*#__PURE__*/cov_xh6x45fq9.s[5]++,function(){cov_xh6x45fq9.f[0]++;function StoreData(){cov_xh6x45fq9.f[1]++;cov_xh6x45fq9.s[6]++;(0,_classCallCheck2["default"])(this,StoreData);cov_xh6x45fq9.s[7]++;this.userDB=[{id:1,category:'admin',firstname:'minani',lastname:'joshua',username:'key-joshua',email:'k.joshua855@gmail.com',phoneNumber:'+250789619442',password:'$2a$12$Gl7eP0UdOxbxdfqo8dA3Qu/uVHk2RjaxITv1vwryc1oztX/gnTcPS',createdDate:'2019-11-04T16:02:22.315Z',modifiedDate:'none'},{id:2,category:'none',firstname:'moriah',lastname:'jessica',username:'Jessy',email:'jessy@gmail.com',phoneNumber:'+250789619442',password:'$2a$12$deWjPMnV/giyrQIYP94k/eLCzY1QIymPdRVRJvyEkQ/Nx9CYqEvlu',createdDate:'2019-11-04T14:51:24.283Z',modifiedDate:'none'}];cov_xh6x45fq9.s[8]++;this.dataDB=[{recordId:1,userId:2,createdBy:'Jessy',title:'obused kid',type:'red-flag',location:'lat: 25.98, lng: -10.88',status:'draft',images:'imga.png',videos:'sample.mp4',comment:'we are here to say no obuse',createdOn:'2019-06-24T05:56:03.315Z',modifiedOn:'none'},{recordId:2,userId:1,createdBy:'key-joshua',title:'fake license',type:'red-flag',location:'lat: 80.47, lng: 340.7777',status:'resolved',images:'imgb.png',videos:'sample.mp4',comment:'we are here to say no corruption',createdOn:'2019-06-24T05:56:03.315Z',modifiedOn:'none'}];}cov_xh6x45fq9.s[9]++;(0,_createClass2["default"])(StoreData,[{key:"check_if_email_exist",value:function check_if_email_exist(email){cov_xh6x45fq9.f[2]++;var email_to_check=(cov_xh6x45fq9.s[10]++,email.toString().trim().toLowerCase());var email_is_exist=(cov_xh6x45fq9.s[11]++,this.userDB.find(function(user){cov_xh6x45fq9.f[3]++;cov_xh6x45fq9.s[12]++;return user.email===email_to_check;}));cov_xh6x45fq9.s[13]++;return email_is_exist;}},{key:"fetchAllUser",value:function fetchAllUser(){cov_xh6x45fq9.f[4]++;cov_xh6x45fq9.s[14]++;return this.userDB;}},{key:"fetchAllRecords",value:function fetchAllRecords(){cov_xh6x45fq9.f[5]++;cov_xh6x45fq9.s[15]++;return this.dataDB;}},{key:"fetchOneRecord",value:function fetchOneRecord(recordId){cov_xh6x45fq9.f[6]++;cov_xh6x45fq9.s[16]++;return this.dataDB.find(function(record){cov_xh6x45fq9.f[7]++;cov_xh6x45fq9.s[17]++;return record.recordId===recordId;});}},{key:"delete",value:function _delete(recordId){cov_xh6x45fq9.f[8]++;var takeRecord=(cov_xh6x45fq9.s[18]++,this.fetchOneRecord(recordId));var index=(cov_xh6x45fq9.s[19]++,this.dataDB.indexOf(takeRecord));cov_xh6x45fq9.s[20]++;this.dataDB.splice(index,1);cov_xh6x45fq9.s[21]++;return{};}},{key:"create",value:function create(data){cov_xh6x45fq9.f[9]++;var newUser=(cov_xh6x45fq9.s[22]++,{id:this.userDB.length+1,category:'none',firstname:data.firstname,lastname:data.lastname,username:data.username,email:data.email,phoneNumber:data.phone,password:data.password,createdDate:new Date(),modifiedDate:'none'});cov_xh6x45fq9.s[23]++;this.userDB.push(newUser);cov_xh6x45fq9.s[24]++;return newUser;}}]);cov_xh6x45fq9.s[25]++;return StoreData;}());var expstoreData=(cov_xh6x45fq9.s[26]++,new StoreData());var _default=(cov_xh6x45fq9.s[27]++,expstoreData);cov_xh6x45fq9.s[28]++;exports["default"]=_default;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRCLmpzIl0sIm5hbWVzIjpbIlN0b3JlRGF0YSIsInVzZXJEQiIsImlkIiwiY2F0ZWdvcnkiLCJmaXJzdG5hbWUiLCJsYXN0bmFtZSIsInVzZXJuYW1lIiwiZW1haWwiLCJwaG9uZU51bWJlciIsInBhc3N3b3JkIiwiY3JlYXRlZERhdGUiLCJtb2RpZmllZERhdGUiLCJkYXRhREIiLCJyZWNvcmRJZCIsInVzZXJJZCIsImNyZWF0ZWRCeSIsInRpdGxlIiwidHlwZSIsImxvY2F0aW9uIiwic3RhdHVzIiwiaW1hZ2VzIiwidmlkZW9zIiwiY29tbWVudCIsImNyZWF0ZWRPbiIsIm1vZGlmaWVkT24iLCJlbWFpbF90b19jaGVjayIsInRvU3RyaW5nIiwidHJpbSIsInRvTG93ZXJDYXNlIiwiZW1haWxfaXNfZXhpc3QiLCJmaW5kIiwidXNlciIsInJlY29yZCIsInRha2VSZWNvcmQiLCJmZXRjaE9uZVJlY29yZCIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImRhdGEiLCJuZXdVc2VyIiwibGVuZ3RoIiwicGhvbmUiLCJEYXRlIiwicHVzaCIsImV4cHN0b3JlRGF0YSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztJQUFNQSxTOzs7QUFDSix1QkFBYztBQUFBO0FBQ1osU0FBS0MsTUFBTCxHQUFjLENBQ1o7QUFDRUMsTUFBQUEsRUFBRSxFQUFFLENBRE47QUFFRUMsTUFBQUEsUUFBUSxFQUFFLE9BRlo7QUFHRUMsTUFBQUEsU0FBUyxFQUFFLFFBSGI7QUFJRUMsTUFBQUEsUUFBUSxFQUFFLFFBSlo7QUFLRUMsTUFBQUEsUUFBUSxFQUFFLFlBTFo7QUFNRUMsTUFBQUEsS0FBSyxFQUFFLHVCQU5UO0FBT0VDLE1BQUFBLFdBQVcsRUFBRSxlQVBmO0FBUUVDLE1BQUFBLFFBQVEsRUFBRSw4REFSWjtBQVNFQyxNQUFBQSxXQUFXLEVBQUUsMEJBVGY7QUFVRUMsTUFBQUEsWUFBWSxFQUFFO0FBVmhCLEtBRFksRUFhWjtBQUNFVCxNQUFBQSxFQUFFLEVBQUUsQ0FE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QUFDakMsUUFKRDtBQUtkQyxRQUFBQSxRQUFRLEVBQUVnQyxJQUFJLENBQUNoQyxRQUxEO0FBTWRDLFFBQUFBLEtBQUssRUFBRStCLElBQUksQ0FBQy9CLEtBTkU7QUFPZEMsUUFBQUEsV0FBVyxFQUFFOEIsSUFBSSxDQUFDRyxLQVBKO0FBUWRoQyxRQUFBQSxRQUFRLEVBQUU2QixJQUFJLENBQUM3QixRQVJEO0FBU2RDLFFBQUFBLFdBQVcsRUFBRSxJQUFJZ0MsSUFBSixFQVRDO0FBVWQvQixRQUFBQSxZQUFZLEVBQUU7QUFWQSxPQUFoQjtBQVlBLFdBQUtWLE1BQUwsQ0FBWTBDLElBQVosQ0FBaUJKLE9BQWpCO0FBQ0EsYUFBT0EsT0FBUDtBQUNEOzs7OztBQUVILElBQU1LLFlBQVksR0FBRyxJQUFJNUMsU0FBSixFQUFyQjtlQUNlNEMsWSIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXFBvc2l0aXZvX0NvbXB1dGVyXFxEZXNrdG9wXFxicm9hZGNhc3QtYW5kZWxhLWN5Y2xlMTNcXHNlcnZlclxcdjFcXGFwaVxcbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU3RvcmVEYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy51c2VyREIgPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiAxLFxuICAgICAgICBjYXRlZ29yeTogJ2FkbWluJyxcbiAgICAgICAgZmlyc3RuYW1lOiAnbWluYW5pJyxcbiAgICAgICAgbGFzdG5hbWU6ICdqb3NodWEnLFxuICAgICAgICB1c2VybmFtZTogJ2tleS1qb3NodWEnLFxuICAgICAgICBlbWFpbDogJ2suam9zaHVhODU1QGdtYWlsLmNvbScsXG4gICAgICAgIHBob25lTnVtYmVyOiAnKzI1MDc4OTYxOTQ0MicsXG4gICAgICAgIHBhc3N3b3JkOiAnJDJhJDEyJEdsN2VQMFVkT3hieGRmcW84ZEEzUXUvdVZIazJSamF4SVR2MXZ3cnljMW96dFgvZ25UY1BTJyxcbiAgICAgICAgY3JlYXRlZERhdGU6ICcyMDE5LTExLTA0VDE2OjAyOjIyLjMxNVonLFxuICAgICAgICBtb2RpZmllZERhdGU6ICdub25lJyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGlkOiAyLFxuICAgICAgICBjYXRlZ29yeTogJ25vbmUnLFxuICAgICAgICBmaXJzdG5hbWU6ICdtb3JpYWgnLFxuICAgICAgICBsYXN0bmFtZTogJ2plc3NpY2EnLFxuICAgICAgICB1c2VybmFtZTogJ0plc3N5JyxcbiAgICAgICAgZW1haWw6ICdqZXNzeUBnbWFpbC5jb20nLFxuICAgICAgICBwaG9uZU51bWJlcjogJysyNTA3ODk2MTk0NDInLFxuICAgICAgICBwYXNzd29yZDogJyQyYSQxMiRkZVdqUE1uVi9naXlyUUlZUDk0ay9lTEN6WTFRSXltUGRSVlJKdnlFa1EvTng5Q1lxRXZsdScsXG4gICAgICAgIGNyZWF0ZWREYXRlOiAnMjAxOS0xMS0wNFQxNDo1MToyNC4yODNaJyxcbiAgICAgICAgbW9kaWZpZWREYXRlOiAnbm9uZScsXG4gICAgICB9LFxuXG4gICAgXTtcbiAgICB0aGlzLmRhdGFEQiA9IFtcbiAgICAgIHtcbiAgICAgICAgcmVjb3JkSWQ6IDEsXG4gICAgICAgIHVzZXJJZDogMixcbiAgICAgICAgY3JlYXRlZEJ5OiAnSmVzc3knLFxuICAgICAgICB0aXRsZTogJ29idXNlZCBraWQnLFxuICAgICAgICB0eXBlOiAncmVkLWZsYWcnLFxuICAgICAgICBsb2NhdGlvbjogJ2xhdDogMjUuOTgsIGxuZzogLTEwLjg4JyxcbiAgICAgICAgc3RhdHVzOiAnZHJhZnQnLFxuICAgICAgICBpbWFnZXM6ICdpbWdhLnBuZycsXG4gICAgICAgIHZpZGVvczogJ3NhbXBsZS5tcDQnLFxuICAgICAgICBjb21tZW50OiAnd2UgYXJlIGhlcmUgdG8gc2F5IG5vIG9idXNlJyxcbiAgICAgICAgY3JlYXRlZE9uOiAnMjAxOS0wNi0yNFQwNTo1NjowMy4zMTVaJyxcbiAgICAgICAgbW9kaWZpZWRPbjogJ25vbmUnLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgcmVjb3JkSWQ6IDIsXG4gICAgICAgIHVzZXJJZDogMSxcbiAgICAgICAgY3JlYXRlZEJ5OiAna2V5LWpvc2h1YScsXG4gICAgICAgIHRpdGxlOiAnZmFrZSBsaWNlbnNlJyxcbiAgICAgICAgdHlwZTogJ3JlZC1mbGFnJyxcbiAgICAgICAgbG9jYXRpb246ICdsYXQ6IDgwLjQ3LCBsbmc6IDM0MC43Nzc3JyxcbiAgICAgICAgc3RhdHVzOiAncmVzb2x2ZWQnLFxuICAgICAgICBpbWFnZXM6ICdpbWdiLnBuZycsXG4gICAgICAgIHZpZGVvczogJ3NhbXBsZS5tcDQnLFxuICAgICAgICBjb21tZW50OiAnd2UgYXJlIGhlcmUgdG8gc2F5IG5vIGNvcnJ1cHRpb24nLFxuICAgICAgICBjcmVhdGVkT246ICcyMDE5LTA2LTI0VDA1OjU2OjAzLjMxNVonLFxuICAgICAgICBtb2RpZmllZE9uOiAnbm9uZScsXG4gICAgICB9LFxuXG4gICAgXTtcbiAgfVxuXG4gIGNoZWNrX2lmX2VtYWlsX2V4aXN0KGVtYWlsKSB7XG4gICAgY29uc3QgZW1haWxfdG9fY2hlY2sgPSBlbWFpbC50b1N0cmluZygpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGVtYWlsX2lzX2V4aXN0ID0gdGhpcy51c2VyREIuZmluZCgodXNlcikgPT4gdXNlci5lbWFpbCA9PT0gZW1haWxfdG9fY2hlY2spO1xuICAgIHJldHVybiBlbWFpbF9pc19leGlzdDtcbiAgfVxuXG4gIGZldGNoQWxsVXNlcigpIHtcbiAgICByZXR1cm4gdGhpcy51c2VyREI7XG4gIH1cblxuICBmZXRjaEFsbFJlY29yZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YURCO1xuICB9XG5cbiAgZmV0Y2hPbmVSZWNvcmQocmVjb3JkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhREIuZmluZCgocmVjb3JkKSA9PiByZWNvcmQucmVjb3JkSWQgPT09IHJlY29yZElkKTtcbiAgfVxuXG4gIGRlbGV0ZShyZWNvcmRJZCkge1xuICAgIGNvbnN0IHRha2VSZWNvcmQgPSB0aGlzLmZldGNoT25lUmVjb3JkKHJlY29yZElkKTtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZGF0YURCLmluZGV4T2YodGFrZVJlY29yZCk7XG4gICAgdGhpcy5kYXRhREIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBjcmVhdGUoZGF0YSkge1xuICAgIGNvbnN0IG5ld1VzZXIgPSB7XG4gICAgICBpZDogdGhpcy51c2VyREIubGVuZ3RoICsgMSxcbiAgICAgIGNhdGVnb3J5OiAnbm9uZScsXG4gICAgICBmaXJzdG5hbWU6IGRhdGEuZmlyc3RuYW1lLFxuICAgICAgbGFzdG5hbWU6IGRhdGEubGFzdG5hbWUsXG4gICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSxcbiAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgcGhvbmVOdW1iZXI6IGRhdGEucGhvbmUsXG4gICAgICBwYXNzd29yZDogZGF0YS5wYXNzd29yZCxcbiAgICAgIGNyZWF0ZWREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgbW9kaWZpZWREYXRlOiAnbm9uZScsXG4gICAgfTtcbiAgICB0aGlzLnVzZXJEQi5wdXNoKG5ld1VzZXIpO1xuICAgIHJldHVybiBuZXdVc2VyO1xuICB9XG59XG5jb25zdCBleHBzdG9yZURhdGEgPSBuZXcgU3RvcmVEYXRhKCk7XG5leHBvcnQgZGVmYXVsdCBleHBzdG9yZURhdGE7XG4iXX0=